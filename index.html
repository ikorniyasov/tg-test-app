<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Telegram Mini App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        body {
            margin: 0;
            padding: 16px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            background: #f5f5f5;
            color: #111;
        }
        .card {
            max-width: 420px;
            margin: 40px auto;
            background: #fff;
            border-radius: 14px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        h1 {
            margin-top: 0;
            font-size: 22px;
        }
        button {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background: #0088cc;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        button:active {
            opacity: 0.85;
        }
        .muted {
            margin-top: 12px;
            font-size: 14px;
            color: #666;
        }
        code {
            background: #f0f0f0;
            padding: 3px 6px;
            border-radius: 6px;
            font-size: 13px;
        }
    </style>
</head>
<body>

<div class="card">
    <h1>–ü—Ä–∏–≤–µ—Ç üëã</h1>
    <p id="user" class="muted">–û—Ç–∫—Ä—ã—Ç–æ –≤–Ω–µ Telegram</p>

    <button id="btn">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>

    <p class="muted">
        –≠—Ç–æ <b>Telegram Mini App</b> –≤ –æ–¥–Ω–æ–º HTML-—Ñ–∞–π–ª–µ.
    </p>
</div>

<!-- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram Mini Apps SDK -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<script>
    const tg = window.Telegram?.WebApp;

    const userEl = document.getElementById("user");
    const btn = document.getElementById("btn");

    if (tg) {
        // –°–æ–æ–±—â–∞–µ–º Telegram, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ
        tg.ready();

        // –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–æ–Ω –ø–æ–¥ —Ç–µ–º—É Telegram
        document.body.style.background = tg.themeParams?.bg_color || "#f5f5f5";

        // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe?.user;
        if (user) {
            userEl.textContent = `–í—ã: ${user.first_name}` + (user.username ? ` (@${user.username})` : "");
        } else {
            userEl.textContent = "–û—Ç–∫—Ä—ã—Ç–æ –≤ Telegram";
        }

        // –î–µ–π—Å—Ç–≤–∏–µ –ø–æ –∫–Ω–æ–ø–∫–µ
        btn.onclick = () => {
            tg.showPopup({
                title: "–ì–æ—Ç–æ–≤–æ",
                message: "–ö–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Telegram üéâ",
                buttons: [{ type: "ok" }]
            });
        };

    } else {
        // –û—Ç–∫—Ä—ã—Ç–æ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
        btn.onclick = () => {
            alert("–≠—Ç–æ –æ–±—ã—á–Ω—ã–π —Å–∞–π—Ç, –Ω–µ Telegram");
        };
    }
</script>

</body>
</html>